<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>黒柳テスト</title>
    <!-- <meta property="og:url"           content="" /> -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content="黒柳テスト" />
    <meta property="og:description" content="あなたはなにやなぎ？" />
    <!-- <meta property="og:image"         content="http://www.your-domain.com/path/image.jpg" /> -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.2.6/vue.min.js"></script>
</head>
</head>

<body>
    <div class="top">
        <div class="container">
            <div v-if="questionOpen">
                <p v-html="question.text"></p>
                <p v-model="question.reference"></p>
                <ul>
                    <li v-for="choice in choices">
                        <button :id="choice" :value="choice" v-model="checkedChoices" v-on:click="answerQuiz(choice)">{{ choice }}</button>
                    </li>
                </ul>
            </div>

            <div v-if="answerOpen" transition="fade">
                <!--
          <h1>解答</h1>
          <button v-if="isCorrect" id="correct" class="button is-info"> O </button>
          <button v-else id="wrong" class="button is-danger"> X </button>
          <h3>正解は：<span v-for="correct in question.corrects">{{ correct }} </span></h3>
          <p v-html="question.answer"></p>
          !-->
                <button class="button is-primary" v-on:click="nextQuiz">次の問題</button>
            </div>

            <div v-if="endOpen" transition="fade">
                <span v-once>https://twitter.com/intent/tweet?text=あなたは{{ yanagi[correctNum] }}柳徹子！！！</span>
                <h2>正答数： {{ correctNum }} / {{ questionIndex }}</h2>

                <div class="sns">
                    <a href="" target="_blank" title="Facebookでシェア"><img src="../assets/button_facebook.png" alt="facebook"></a>
                    <a v-bind:href="'https://twitter.com/intent/tweet?text=' + '私は' + yanagi[correctNum] + '柳徹子でした' + '%0Ahttp://tetsuco.com'"
                        target="_blank" title="Twitterでシェア"><img src="../assets/button_twitter.png" alt="twitter"></a>
                    <a href="" target="_blank" title="LINEに送る"><img src="../assets/button_LINE.png" alt="LINE"></a>
                </div>

                <button class="button is-primary" v-on:click="initializeApp">もう１度！</button>
            </div>
        </div>
    </div>
    <div class="bgmovie">
        <div id="player"></div>
    </div>
</body>

<script>
    new Vue({
        el: '#app',
        // データ
        data: {
            msg: 'Hello'
        }
    });

    var tag = document.createElement('script');

    tag.src = "https://www.youtube.com/iframe_api";
    var firstScriptTag = document.getElementsByTagName('script')[0];
    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

    // 3. This function creates an <iframe> (and YouTube player)
    //    after the API code downloads.
    var player;
    function onYouTubeIframeAPIReady() {
        player = new YT.Player('player', {
            // height: '1280',
            // width: '120',
            videoId: 'iS8jKACWPuw',
            events: {
                'onReady': onPlayerReady,
                'onStateChange': onPlayerStateChange
            },
            playerVars: {
                loop: 1,//0:ループしない 1:ループする 1の場合playlist設定必須
                controls: 0,//コントローラー無し
                autoplay: 1,//オートプレイ
                showinfo: 0//動画タイトルなど表示しない
            },
        });
    }
    // 4. The API will call this function when the video player is ready.
    function onPlayerReady(event) {
        event.target.playVideo();
        event.target.mute();
    }

    // 5. The API calls this function when the player's state changes.
    //    The function indicates that when playing a video (state=1),
    //    the player should play for six seconds and then stop.
    var done = false;
    function onPlayerStateChange(event) {
        if (event.data == YT.PlayerState.PLAYING && !done) {
            //            setTimeout(stopVideo, 6000);
            done = true;
        }
    }
    function stopVideo() {
        player.stopVideo();
    }

</script>

</html>
<style>
    .top {
        position: fixed;
        font-family: 'Avenir', Helvetica, Arial, sans-serif;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        color: #fff;
        background-image: url("../assets/overlay.png");
    }
    
    .bgmovie {
        opacity: 0.9;
        position: fixed;
        z-index: -99;
        width: 100%;
        height: 100%;
        background-color: #000;
    }
</style>