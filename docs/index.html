<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>黒柳テスト</title>
    <!-- <meta property="og:url"           content="" /> -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content="黒柳テスト" />
    <meta property="og:description" content="あなたはなにやなぎ？" />
    <!-- <meta property="og:image"         content="http://www.your-domain.com/path/image.jpg" /> -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.2.6/vue.min.js"></script>
</head>
</head>

<body>
    <div class="top">
        <img src="./assets/text.png"><br>
        <img src="./assets/logo.png"><br>
        <button type="button" onclick="location.href='quiz'">
        <img src="./assets/start_button.png">
      </button>
    </div>

    <div class="bgmovie">
        <div id="player"></div>
    </div>
    <div id="app">
        {{ msg }} 123
    </div>
</body>

<script>
    new Vue({
        el: '#app',
        // データ
        data: {
            msg: 'Hello'
        }
    });

    var tag = document.createElement('script');

    tag.src = "https://www.youtube.com/iframe_api";
    var firstScriptTag = document.getElementsByTagName('script')[0];
    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

    // 3. This function creates an <iframe> (and YouTube player)
    //    after the API code downloads.
    var player;
    function onYouTubeIframeAPIReady() {
        player = new YT.Player('player', {
            height: '1280',
            width: '1280',
            videoId: 'iS8jKACWPuw',
            events: {
                'onReady': onPlayerReady,
                'onStateChange': onPlayerStateChange
            },
            playerVars: {
                loop: 1,//0:ループしない 1:ループする 1の場合playlist設定必須
                controls: 0,//コントローラー無し
                autoplay: 1,//オートプレイ
                showinfo: 0//動画タイトルなど表示しない
            },
        });
    }
    // 4. The API will call this function when the video player is ready.
    function onPlayerReady(event) {
        event.target.playVideo();
        event.target.mute();
    }

    // 5. The API calls this function when the player's state changes.
    //    The function indicates that when playing a video (state=1),
    //    the player should play for six seconds and then stop.
    var done = false;
    function onPlayerStateChange(event) {
        if (event.data == YT.PlayerState.PLAYING && !done) {
            setTimeout(stopVideo, 6000);
            done = true;
        }
    }
    function stopVideo() {
        player.stopVideo();
    }

</script>

</html>
<style>
    .top {
        position: fixed;
        font-family: 'Avenir', Helvetica, Arial, sans-serif;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        color: #fff;
        background-image: url("../assets/overlay.png");
    }
    
    .bgmovie {
        opacity: 0.9;
        position: fixed;
        z-index: -99;
        width: 100%;
        height: 100%;
        background-color: #000;
    }
</style>